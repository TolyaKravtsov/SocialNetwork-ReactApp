{"version":3,"sources":["components/Dialogs/Dialogs.module.css","components/Dialogs/DialogItem/DialogItem.module.css","components/Dialogs/Message/Message.module.css","hoc/authRedirect.js","components/Dialogs/DialogItem/DialogItem.jsx","components/Dialogs/Message/Message.jsx","components/Dialogs/DialogsFormRedux.jsx","components/Dialogs/Dialogs.jsx","components/Dialogs/DialogsContainer.jsx"],"names":["module","exports","mapStateToPropsForRedirect","state","isAuth","auth","DialogItem","props","className","dialogItem","dialog","active","img","src","alt","to","name","Message","message","MaxLength100","maxLengthCreator","DialogsFormRedux","onSubmit","handleSubmit","Field","placeholder","component","Textarea","validate","requiredField","Dialogs","dialogsElement","dialogsData","map","id","key","messagesElement","messageData","AddMessageReduxForm","reduxForm","form","dialogs","values","sendMessage","newMessageBody","compose","connect","dialogsPage","newMessageText","profilePage","dispatch","addMessageAC","Component","RedirectComponent","this","React"],"mappings":"qGACAA,EAAOC,QAAU,CAAC,QAAU,2B,oBCA5BD,EAAOC,QAAU,CAAC,YAAc,gCAAgC,OAAS,2BAA2B,OAAS,2BAA2B,IAAM,0B,oBCA9ID,EAAOC,QAAU,CAAC,SAAW,0BAA0B,QAAU,2B,6HCG7DC,EAA6B,SAACC,GAC9B,MAAO,CACHC,OAAQD,EAAME,KAAKD,S,4CCSZE,EAVI,SAACC,GAEhB,OACI,yBAAKC,UAAWC,IAAWC,OAAS,IAAMD,IAAWE,QACjD,yBAAKH,UAAWC,IAAWG,IAAKC,IAAI,wBAAwBC,IAAI,WAChE,kBAAC,IAAD,CAASC,GAJN,uBAIH,IAAqBR,EAAMS,Q,kBCCxBC,EAPC,SAACV,GACb,OACI,yBAAKC,UAAWU,IAAQA,SAAUX,EAAMW,U,yBCD1CC,EAAeC,YAAiB,KAmBvBC,EAjBU,SAACd,GACtB,OACI,0BAAMe,SAAUf,EAAMgB,cAClB,6BACI,kBAACC,EAAA,EAAD,CAAOC,YAAa,UAAWT,KAAK,iBAAiBU,UAAWC,IACzDC,SAAU,CAACC,IAAeV,MAErC,6BAEI,4C,SC8BDW,EAtCC,SAACvB,GACb,IAAIwB,EAAiBxB,EAAMyB,YAAYC,KAAI,SAACvB,GACpC,OAAO,kBAAC,EAAD,CAAYM,KAAMN,EAAOM,KAAMkB,GAAIxB,EAAOwB,GAAIC,IAAKzB,EAAOwB,QAKrEE,EAAkB7B,EAAM8B,YAAYJ,KAAI,SAACf,GACrC,OACI,kBAAC,EAAD,CAASA,QAASA,EAAQA,QAASiB,IAAKjB,EAAQgB,QAK5D,IAAqB,IAAjB3B,EAAMH,OAAkB,OAAO,kBAAC,IAAD,CAAUW,GAAI,WAEjD,IAAMuB,EAAsBC,YAAU,CAACC,KAAM,wBAAjBD,CAA0ClB,GAMtE,OACI,yBAAKb,UAAWiC,IAAQA,SACpB,6BACKV,GAGL,6BACKK,GAEL,6BACI,kBAACE,EAAD,CAAqBhB,SAdX,SAACoB,GACnBnC,EAAMoC,YAAYD,EAAOE,sB,OCHlBC,sBACXC,aAlBkB,SAAC3C,GACnB,MAAO,CACH6B,YAAa7B,EAAM4C,YAAYf,YAC/BgB,eAAgB7C,EAAM8C,YAAYD,eAClCX,YAAalC,EAAM4C,YAAYV,gBAGd,SAACa,GACtB,MAAO,CACHP,YAAa,SAACC,GACVM,EAASC,YAAaP,ULPF,SAACQ,GAAc,IACrCC,EADqC,iLAGnC,OAAKC,KAAK/C,MAAMH,OACT,kBAACgD,EAAeE,KAAK/C,OADG,kBAAC,IAAD,CAAUQ,GAAI,eAHV,GACXwC,IAAMH,WAQtC,OAAON,YAAQ5C,EAAR4C,CAAoCO,KKKhCR,CAIdf","file":"static/js/3.cb18ef5a.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"dialogs\":\"Dialogs_dialogs__sljuo\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"dialogsItem\":\"DialogItem_dialogsItem__1w1lq\",\"active\":\"DialogItem_active__1-CMS\",\"dialog\":\"DialogItem_dialog__HZ6vO\",\"img\":\"DialogItem_img__1mdqW\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"messages\":\"Message_messages__2Q4rO\",\"message\":\"Message_message__3fkxE\"};","import React from \"react\";\r\nimport {Redirect} from \"react-router-dom\";\r\nimport {connect} from \"react-redux\";\r\n\r\nlet mapStateToPropsForRedirect = (state) => {\r\n    return {\r\n        isAuth: state.auth.isAuth,\r\n    }\r\n};\r\n\r\nexport const withAuthRedirect = (Component) => {                //HOC\r\n    class RedirectComponent extends React.Component {\r\n        render() {\r\n            if (!this.props.isAuth) return <Redirect to={'/login'}/>;\r\n            return <Component  {...this.props}/>\r\n\r\n        }\r\n    }\r\n\r\n    return connect(mapStateToPropsForRedirect)(RedirectComponent);\r\n};","import dialogItem from \"./DialogItem.module.css\"\r\nimport {NavLink} from \"react-router-dom\";\r\nimport React from \"react\";\r\n\r\n\r\nconst DialogItem = (props) => {\r\n    let path = \"/dialogs/ +props.id\";\r\n    return (\r\n        <div className={dialogItem.dialog + ' ' + dialogItem.active}>\r\n            <img className={dialogItem.img} src=\"https://clck.ru/JS8HD\" alt=\"avatar\"/>\r\n            <NavLink to={path}> {props.name}</NavLink>\r\n        </div>\r\n    )\r\n};\r\n\r\nexport default DialogItem","import message from \"./Message.module.css\"\r\nimport React from \"react\";\r\n\r\n\r\nconst Message = (props) => {\r\n    return (\r\n        <div className={message.message}>{props.message}</div>\r\n    )\r\n\r\n};\r\n\r\nexport default Message","import React from \"react\";\r\nimport {Field} from \"redux-form\";\r\nimport {Textarea} from \"../../common/formsControl/TextareaForm\";\r\nimport {maxLengthCreator, requiredField} from \"../../common/validators\";\r\n\r\nconst MaxLength100 = maxLengthCreator(100);\r\n\r\nconst DialogsFormRedux = (props) => {\r\n    return (\r\n        <form onSubmit={props.handleSubmit}>\r\n            <div>\r\n                <Field placeholder={\"message\"} name=\"newMessageBody\" component={Textarea}\r\n                       validate={[requiredField, MaxLength100]}/>\r\n            </div>\r\n            <div>\r\n\r\n                <button>click</button>\r\n            </div>\r\n\r\n        </form>\r\n\r\n    )\r\n};\r\n\r\nexport default DialogsFormRedux;","import React from 'react';\r\nimport dialogs from './Dialogs.module.css'\r\nimport DialogItem from \"./DialogItem/DialogItem\";\r\nimport Message from \"./Message/Message\";\r\nimport {Redirect} from \"react-router-dom\";\r\nimport DialogsFormRedux from \"./DialogsFormRedux\";\r\nimport {reduxForm} from \"redux-form\";\r\n\r\nconst Dialogs = (props) => {\r\n    let dialogsElement = props.dialogsData.map((dialog) => {\r\n            return <DialogItem name={dialog.name} id={dialog.id} key={dialog.id}/>\r\n\r\n        }\r\n    );\r\n\r\n    let messagesElement = props.messageData.map((message) => {\r\n            return (\r\n                <Message message={message.message} key={message.id}/>\r\n            )\r\n        }\r\n    );\r\n\r\n    if (props.isAuth === false) return <Redirect to={'/login'}/>;\r\n\r\n    const AddMessageReduxForm = reduxForm({form: 'dialogAddMessageForm'})(DialogsFormRedux);\r\n\r\n    const addNewMessage = (values) => {\r\n        props.sendMessage(values.newMessageBody);\r\n    };\r\n\r\n    return (\r\n        <div className={dialogs.dialogs}>\r\n            <div>\r\n                {dialogsElement}\r\n            </div>\r\n\r\n            <div>\r\n                {messagesElement}\r\n            </div>\r\n            <div>\r\n                <AddMessageReduxForm onSubmit={addNewMessage}/>\r\n            </div>\r\n        </div>\r\n    )\r\n};\r\n\r\nexport default Dialogs;","import React from 'react';\r\nimport {addMessageAC,} from \"../../redux/reducer/dialogsPageReducer\";\r\nimport {connect} from \"react-redux\";\r\nimport {withAuthRedirect} from \"../../hoc/authRedirect\";\r\nimport Dialogs from \"./Dialogs\";\r\nimport {compose} from \"redux\";\r\n\r\nlet mapStateToProps = (state) => {\r\n    return {\r\n        dialogsData: state.dialogsPage.dialogsData,\r\n        newMessageText: state.profilePage.newMessageText,\r\n        messageData: state.dialogsPage.messageData,\r\n    }\r\n};\r\nlet mapDispatchToProps = (dispatch) => {\r\n    return {\r\n        sendMessage: (newMessageBody) => {\r\n            dispatch(addMessageAC(newMessageBody));\r\n        }\r\n\r\n    }\r\n};\r\n\r\n\r\nexport default compose(\r\n    connect(mapStateToProps, mapDispatchToProps),       // //move withAuthRedirect to connect\r\n    withAuthRedirect,           //move to withAuthRedirect\r\n)\r\n(Dialogs);          //get dialogs\r\n\r\n"],"sourceRoot":""}